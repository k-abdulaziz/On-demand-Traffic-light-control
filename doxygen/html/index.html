<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>On-demand Traffic light control: On-demand Traffic light control</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">On-demand Traffic light control
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">On-demand Traffic light control </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Khaled Abdulaziz </dd></dl>
<h1><a class="anchor" id="Section1"></a>
1.Introduction</h1>
<p >This document is intended to provide information about on-demand traffic light control system including its description, design, state machine and constraints.</p>
<h1><a class="anchor" id="Section2"></a>
2.System Description</h1>
<p >This system aims to provide traffic organization for both cars and pedestrians and the normal mode of the system is for cars unless a pedestrian push the button.</p>
<p >It consists of:</p><ol type="1">
<li>Traffic light for cars</li>
<li>Traffic light for pedestrians</li>
<li>Push button for pedestrians</li>
</ol>
<p ><img src="https://i.imgur.com/HNDNqk4.jpg" alt="Traffic_Light" class="inline"/></p>
<p >It works in two main modes:</p>
<p >Normal Mode:</p><ol type="1">
<li>Cars' LEDs will be changed every five seconds starting from Green then yellow then red then yellow then Green.</li>
<li>The Yellow LED will blink for five seconds before moving to Green or Red LEDs.</li>
</ol>
<p >Pedestrian Mode:</p><ol type="1">
<li>Change from normal mode to pedestrian mode when the pedestrian button is pressed.</li>
<li>If pressed when the cars' Red LED is on, the pedestrian's Green LED and the cars' Red LEDs will be on for five seconds, this means that pedestrians can cross the street while the pedestrian's Green LED is on.</li>
<li>If pressed when the cars' Green LED is on or the cars' Yellow LED is blinking, the pedestrian Red LED will be on then both Yellow LEDs start to blink for five seconds, then the cars' Red LED and pedestrian Green LEDs are on for five seconds, this means that pedestrian must wait until the Green LED is on.</li>
<li>At the end of the two states, the cars' Red LED will be off and both Yellow LEDs start blinking for 5 seconds and the pedestrian's Green LED is still on.</li>
<li>After the five seconds the pedestrian Green LED will be off and both the pedestrian Red LED and the cars' Green LED will be on.</li>
<li>Traffic lights signals are going to the normal mode again.</li>
</ol>
<h1><a class="anchor" id="Section3"></a>
3.System Design</h1>
<h2><a class="anchor" id="sub1"></a>
3.1 Hardware Requirements:</h2>
<ol type="1">
<li>AVR Atmega32 Microcontroller</li>
<li>2 green leds</li>
<li>2 yellow leds</li>
<li>2 red leds</li>
<li>6 resistors of 300 ohms</li>
<li>1 resistor of 10k ohms</li>
<li>1 bush button</li>
</ol>
<h2><a class="anchor" id="sub2"></a>
3.2 System Schematic Circuit:</h2>
<p >As shown beyond: -Push button is connected to INT0 pin for pedestrian -LEDs for cars - Green, Yellow, and Red, connected on port A, pins 0, 1, and 2 -LEDs for pedestrians - Green, Yellow, and Red, connected on port B, pins 0, 1, and 2</p>
<p ><img src="https://i.imgur.com/qbm1jSb.png" alt="Schematic" class="inline"/></p>
<h2><a class="anchor" id="sub3"></a>
3.3 Static architecture:</h2>
<p >The system is divided in 4 main layers:</p><ol type="1">
<li>Microcontroller (MCU) Layer</li>
<li>Microcontroller Abstraction Layer (MCAL)</li>
<li>Electronic Unit Abstraction Layer (ECUAL)</li>
<li>Application Layer</li>
</ol>
<p >The system is divided into 5 drivers:</p><ol type="1">
<li>DIO driver</li>
<li>External interrupt driver</li>
<li>Timer driver</li>
<li>LED driver</li>
<li>Button driver</li>
</ol>
<p ><img src="https://i.imgur.com/2WB8oRm.png" alt="Layers1" class="inline"/> <img src="https://i.imgur.com/oKfNoOw.png" alt="Layers2" class="inline"/></p>
<h1><a class="anchor" id="Section4"></a>
4.System State Machine</h1>
<p ><img src="https://i.imgur.com/Sh68bSO.png" alt="stm" class="inline"/></p>
<h1><a class="anchor" id="Section5"></a>
5.System Constraints</h1>
<p >No system constraints were set. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
